<div id="readfile" data-model="readfileViewModel" data-role="view" data-bind="events: { show: onViewShow }" data-layout="default-layout" data-title="Read File">
    <textarea></textarea>
</div>

<script>
    var readfileViewModel;
    $(function () {
        readfileViewModel = new kendo.observable({
            fileReader: new FileReader(),
            fileName: "",
            fileText: "",
            onViewShow: function (e) {
                debugger;
                var params = e.view.params;
                var $this = this;
                this.set('fileName', params.fileName);
                window.resolveLocalFileSystemURL(cordova.file.externalApplicationStorageDirectory + params.fileName,
                function (fileEntry) {
                    debugger;
                    fileEntry.file(function (file) {
                        debugger;
                        $this.fileReader.onloadend = function (data) {
                            debugger;
                            $this.set('fileText', data);
                        }
                        fileReader.readAsText(file);
                    });
                },
                    function (error) {
                        console.log(error);
                    }
                );
                onGlobalViewShow(e);
            }
        });
    });
</script>