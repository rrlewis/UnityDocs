<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>UnityDocs</title>

    <!-- UnityDocs references -->
    <link href="css/index.css" rel="stylesheet" />

    <link href="css/kendo/2015.2.624/kendo.common.min.css" rel="stylesheet" />
    <link href="css/kendo/2015.2.624/kendo.mobile.all.min.css" rel="stylesheet" />
    <link href="css/theme/kendo.mobile.flat.material-indigo.css" rel="stylesheet" />

    <!-- Roboto Font -->
    <link href="fonts/roboto.css" rel="stylesheet" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="http:\\maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <link href="css/kendo-icons-extension.css" rel="stylesheet" />

    <link href="css/box-shadow-levels.css" rel="stylesheet" />

    <link href="css/font-sizes.css" rel="stylesheet" />

    <!-- Fixes -->
    <link href="css/fixes.css" rel="stylesheet" />
</head>
<body>
    <!-- Main Layout -->
    <section data-role="layout" data-id="default-layout" data-show="checkSearch">
        <header data-role="header" class="shadow-1 search">
            <div data-role="navbar" class="km-accent">
                <a data-role="button" data-rel="drawer" href="#drawer" data-icon="hamburger" data-align="left"></a>
                <span data-role="view-title" id="view-title">Unity Docs</span>
                <form action="javascript:filter.filter()">
                    <input type="search" onkeyup="filter.filter()" onchange="filter.filter()" placeholder="Search..." />
                </form>
                <a data-role="button" data-icon="search" data-click="filter.startFilter" id="searchBtn" data-align="right"></a>
                <a data-role="button" data-icon="more-v" data-align="right" data-rel="actionsheet" href="#replyActionSheet" id="sortBtn"></a>
                <a data-role="button" data-icon="close" data-click="filter.cancelFilter" style="display:none;" data-align="right"></a>
            </div>
        </header>

        <!--View content will render here-->
        <ul data-role="actionsheet" id="replyActionSheet">
            <li><a>View as thumbnails</a></li>
            <li><a>Refresh</a></li>
            <li><a data-click="actionSheet.functions.sort.openSort">Sort</a></li>
        </ul>
    </section>
    <!-- Menu Drawer -->
    <div data-role="drawer" id="drawer" data-before-show="onBeforeShow">
        <header data-role="header">
            <div data-role="navbar">
                <span data-role="view-title">Options</span>
            </div>
        </header>
        <ul data-role="listview" class="km-listview-icons">
            <li data-icon="home"><a href="#views/libraries.html">Home</a></li>
            <li data-icon="user"><a href="#views/account.html">Account</a></li>
        </ul>
    </div>

    <!-- Auth Layout -->
    <section data-role="layout" data-id="auth-layout"></section>

    <!-- jQuery & Kendo -->
    <script src="js/jquery/2.1.4/jquery-2.1.4.min.js"></script>
    <script src="js/kendo/2015.2.624/kendo.all.min.js"></script>

    <script src="js/helpers.js"></script>

    <!-- Cordova reference, this is added to your app when it's built. -->
    <script src="cordova.js"></script>
    <!--<script src="js/kendo/NativePageTransitionsKendoAdapter.js"></script>-->
    <!--<script src="phonegap.js"></script>-->
    <script src="js/platformOverrides.js"></script>
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
    <!-- JS -->
    <script src="js/app.js"></script>

    <script src="js/index.js"></script>
    <script type="text/javascript" src="http://debug3.build.phonegap.com/target/target-script-min.js#70308104-2ee2-11e5-aa8b-22000b620b71"></script>

    <script>
        function onBeforeShow(e) {
            //check for view id to prevent
            //display of Drawer
            var disableDrawer = ["views/authenticate.html"];
            if (disableDrawer.indexOf(app.view().id) > -1) {
                console.log("Drawer disabled on " + app.view().id);
                e.preventDefault();
            }
        }

        var filter = {
            filter: function () {
                var searchFor = $("#" + app.view().element.attr("id") + " header.search input[type=search]").val();
                scope.data.filter({ field: "Description", operator: "contains", value: searchFor });
            },
            clearFilter: function () {
                if (app.searchEnabled) {
                    $("header.search form").trigger('reset');
                    if (typeof scope.data != "undefined") {
                        scope.data.filter({});
                    }
                }
            },
            cancelFilter: function () {
                if (app.searchEnabled) {
                    $("header.search [data-role=view-title]").show();
                    $("header.search form").hide();
                    $("header.search [data-role=button]:not(:has(i), [data-rel=drawer])").show();
                    $("header.search [data-role=button]:has(i), header.search [data-role=button][data-icon=close]").hide();
                    this.clearFilter();
                }
            },
            startFilter: function () {
                if (app.searchEnabled) {
                    $("header.search [data-role=view-title]").hide();
                    $("header.search form").css("display", "inline-block");
                    $("header.search [data-role=button]:not(:has(i), [data-rel=drawer])").hide();
                    $("header.search [data-role=button]:has(i), header.search [data-role=button][data-icon=close]").show();
                }
            }
        }

        var actionSheet = {
            functions: {
                sort: {
                    openSort: function () {
                        //open sort modal
                        var config = {
                            title: "Sort",
                            items: [
                                { text: "Name (Ascending)", value: 1 },
                                { text: "Name (Descending)", value: 2 },
                                { text: "Newest", value: 3 },
                                { text: "Oldest", value: 4 },
                                { text: "Largest", value: 5 },
                                { text: "Smallest", value: 6 }
                            ],
                            selectedValue: "1",
                            doneButtonLabel: "Done",
                            cancelButtonLabel: "Cancel"
                        };

                        // Show the picker
                        window.plugins.listpicker.showPicker(config,
                            function (item) {
                                alert("You have selected " + item);
                            },
                            function () {
                                alert("You have cancelled");
                            }
                        );
                    },
                    sortBy: function () {

                    }
                },

            }
        }
    </script>

    <style>
        header.search form {
            display: none;
            width: 100%;
        }

            header.search form input[type=search] {
                background-color: transparent;
                color: white;
                border: 0;
                font-size: 19px;
                width: 75%;
            }

                header.search form input[type=search]::-webkit-search-cancel-button {
                    display: none;
                }
    </style>

</body>
</html>